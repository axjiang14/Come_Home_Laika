<!doctype html> 
<html lang="en"> 
<head> 
	<meta charset="UTF-8" />
	<title>No Pain, No Game</title>
	<script src="//cdn.jsdelivr.net/phaser/2.6.2/phaser.min.js"></script>
    <script src = "solarSystem.js"></script>
    <script src = "gameStartState.js"></script>
    <script src = "gameOverState.js"></script>
    <script src = "plutoState.js"></script>
    <script src = "neptuneState.js"></script>
    <script src = "uranusState.js"></script>
    <script src = "main.js"></script>
	<style type="text/css">
		body {
			margin: 0;
		}
	</style>
</head>
<body>

<script type="text/javascript">

    
var game = new Phaser.Game(800, 600, Phaser.AUTO, '');//, {preload: preload, create: create, update: update});

var cursors;
var platforms;
var spaceBGM;
var buttonBGM;
var player;

var spaceship;
var planetsUnlocked = 0;
var hp;

var score = 0;
var scoreText;

var ticks = 0;
var ticksText;

var spawnTicks = 100;
var spawnTicksText;

var gameOverText;

var platforms;
var aliens;
var alienBullets;
var diamonds;
var bullets;
var healthKits;
var weapon; // this is barrel that follows the pointer

var bulletSpeed = 1000;
var nextFire = 0;
var fireRate = 500;

game.state.add('gameStartState', gameStartState);//starting state 
game.state.add('solarSystem', solarSystem); 
game.state.add('plutoState', plutoState);
game.state.add('gameOverState', gameOverState);
game.state.add('neptuneState', neptuneState);
game.state.add('uranusState', uranusState);
game.state.start('gameStartState'); // set start until add change state funciton

function collectAlien(player, alien){
    score += 10;
    onPlayerHit();
    onPlayerHit();
    onPlayerHit();
    onPlayerHit();
    if (player.hp <= 0 ){
        game.state.start('gameOverState');
    }
	alien.destroy();
}

function killPlayer(player, alienBullet){
	alienBullet.destroy();
	//console.log('Player got shot!');
	onPlayerHit();
    if (player.hp <= 0 ){
        game.state.start('gameOverState');
    }
        
}
    
function killaliens(bullet, alien){ // kill aliens with bullet
    score += 2;
    alien.destroy();
    bullet.kill();
}

function killBullet(bullet, platform) {
	bullet.kill();
}

function healthRestore(player, heatlhKit){
    player.hp += 3; // hp + 3
    onPlayerHit(); // hp -1 ends with hp + 2
    heatlhKit.kill();
//    console.log('player hp is now:' + player.hp);
}
    
function displayPlanetInfo(){
    // we need to display planet info when it is clicked once.
    // display enter button
}

function enterPlanet(){
    game.state.start('plutoState');
    // we need to enter planet when we click that enter button
    // change state() 
}
    
</script>

</body>
</html>
